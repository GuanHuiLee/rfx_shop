(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/detail/detail"],{4103:function(t,e,n){"use strict";n.r(e);var i=n("7686"),o=n("fde2");for(var u in o)"default"!==u&&function(t){n.d(e,t,function(){return o[t]})}(u);n("727f");var r,s=n("f0c5"),c=Object(s["a"])(o["default"],i["b"],i["c"],!1,null,null,null,!1,i["a"],r);e["default"]=c.exports},"563c":function(t,e,n){"use strict";(function(t,i){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62");function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),i.forEach(function(e){r(t,e,n[e])})}return t}function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var s=function(){return n.e("components/index/swiper-image").then(n.bind(null,"910f"))},c=function(){return n.e("components/detail/base-info").then(n.bind(null,"1ae0"))},a=function(){return n.e("components/detail/scroll-attrs").then(n.bind(null,"c183"))},d=function(){return n.e("components/uni-ui/uni-list-item/uni-list-item").then(n.bind(null,"1c3e"))},l=function(){return Promise.all([n.e("common/vendor"),n.e("components/detail/scroll-comments")]).then(n.bind(null,"a5b2"))},m=function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-ui/uParse/src/wxParse")]).then(n.bind(null,"3674"))},f=function(){return n.e("components/common/card").then(n.bind(null,"814e"))},p=function(){return n.e("components/common/common-list").then(n.bind(null,"3935"))},h=function(){return n.e("components/detail/bottom-btn").then(n.bind(null,"4da2"))},b=function(){return n.e("components/common/common-popup").then(n.bind(null,"e8d9"))},v=function(){return n.e("components/common/price").then(n.bind(null,"a3e5"))},g=function(){return n.e("components/common/radio-group").then(n.bind(null,"f1d2"))},k=function(){return n.e("components/uni-ui/uni-number-box/uni-number-box").then(n.bind(null,"ec30"))},_={components:{swiperImage:s,baseInfo:c,scrollAttrs:a,uniListItem:d,scrollComments:l,uParse:m,card:f,commonList:p,bottomBtn:h,commonPopup:b,price:v,zcmRadioGroup:g,uniNumberBox:k},data:function(){return{selects:[],popup:{attr:"none",express:"none",service:"none"},comments:[],banners:[],detail:{id:20,title:"小米MIX3 6GB+128GB",desc:"磁动力滑盖全面屏 / 前后旗舰AI双摄 / 四曲面彩色陶瓷机身 / 高效10W无线充电",cover:"/static/images/demo/list/1.jpg",pprice:3299,num:1,max:100},context:"",baseAttrs:[],hotList:[]}},onBackPress:function(){for(var t in this.popup)if("none"!==this.popup[t])return this.hide(t),!0},computed:u({},(0,o.mapState)({pathList:function(t){return t.path.list}}),{checkedSkus:function(){var t=this.selects.map(function(t){return t.list[t.selected].name});return t.join(",")},checkedSkusIndex:function(){var t=this;if(!Array.isArray(this.detail.goodsSkus))return-1;var e=this.detail.goodsSkus.findIndex(function(e){return e.skusText===t.checkedSkus});return e},showPrice:function(){return this.checkedSkusIndex<0?this.detail.min_price||0:this.detail.goodsSkus[this.checkedSkusIndex].pprice},maxStock:function(){return 0===this.detail.sku_type?this.detail.stock:Array.isArray(this.detail.goodsSkus)?this.detail.goodsSkus[this.checkedSkusIndex].stock:100}}),onLoad:function(t){t.detail&&this.__init(JSON.parse(t.detail))},methods:u({},(0,o.mapMutations)(["addGoodsToCart"]),{__init:function(e){var n=this;this.$H.get("/goods/"+e.id).then(function(e){n.banners=e.goodsBanner.map(function(t){return{src:t.url}}),n.detail=e,n.detail.num=1,t.setNavigationBarTitle({title:e.title}),n.baseAttrs=e.goodsAttrs.map(function(t){return{icon:"icon-cpu",title:t.name,desc:t.value}}),n.comments=e.hotComments.map(function(t){var e=[];for(var n in t.imglist)e.push(t.imglist[n].src);return{id:t.id,user_id:t.user.id,userpic:t.user.avatar,username:t.user.nickname,create_time:t.review_time,goods_num:t.goods_num,context:t.review.data,imglist:t.review.image}}),n.context=e.content,n.hotList=e.hotList.map(function(t){return{id:t.id,cover:t.cover,title:t.title,desc:t.desc,oprice:t.min_oprice,pprice:t.min_price}}),1===n.detail.sku_type&&(n.selects=e.goodsSkusCard.map(function(t){var e=t.goodsSkusCardValue.map(function(t){return{id:t.id,name:t.value}});return{id:t.id,title:t.name,selected:0,list:e}}),n.detail.goodsSkus.forEach(function(t){var e=[];for(var n in t.skus)e.push(t.skus[n].value);t.skusText=e.join(",")}))})},addCart:function(){var e=this;0!==this.maxStock&&this.$H.post("/cart",{shop_id:0===this.detail.sku_type?this.detail.id:this.detail.goodsSkus[this.checkedSkusIndex].id,skus_type:this.detail.sku_type,num:this.detail.num},{token:!0}).then(function(n){t.$emit("updateCart"),e.hide("attr"),t.showToast({title:"加入成功"})})},openCreatePath:function(){t.navigateTo({url:"../user-path-edit/user-path-edit"}),this.hide("express")},hide:function(t){var e=this;this.popup[t]="hide",setTimeout(function(){e.popup[t]="none"},200)},show:function(t){this.popup[t]="show"},preview:function(t,e){i("log","src: "+t," at pages\\detail\\detail.vue:407")},navigate:function(t,e){i("log","href: "+t," at pages\\detail\\detail.vue:411")},goToCoupon:function(){this.navigateTo({url:"../coupon/coupon"})}})};e.default=_}).call(this,n("6e42")["default"],n("0de9")["default"])},"727f":function(t,e,n){"use strict";var i=n("c5a3"),o=n.n(i);o.a},7686:function(t,e,n){"use strict";var i,o=function(){var t=this,e=t.$createElement;t._self._c;t._isMounted||(t.e0=function(e){t.detail.num=e})},u=[];n.d(e,"b",function(){return o}),n.d(e,"c",function(){return u}),n.d(e,"a",function(){return i})},b236:function(t,e,n){"use strict";(function(t){n("b6b5"),n("921b");i(n("66fd"));var e=i(n("4103"));function i(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])},c5a3:function(t,e,n){},fde2:function(t,e,n){"use strict";n.r(e);var i=n("563c"),o=n.n(i);for(var u in i)"default"!==u&&function(t){n.d(e,t,function(){return i[t]})}(u);e["default"]=o.a}},[["b236","common/runtime","common/vendor"]]]);