(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/user-path-list/user-path-list"],{1620:function(t,e,n){"use strict";var o,i=function(){var t=this,e=t.$createElement;t._self._c},a=[];n.d(e,"b",function(){return i}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return o})},"51a2":function(t,e,n){"use strict";n.r(e);var o=n("567d"),i=n.n(o);for(var a in o)"default"!==a&&function(t){n.d(e,t,function(){return o[t]})}(a);e["default"]=i.a},"567d":function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=n("2f62");function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var u=function(){return n.e("components/uni-ui/uni-list-item/uni-list-item").then(n.bind(null,"1c3e"))},s=function(){return Promise.all([n.e("common/vendor"),n.e("components/uni-ui/uni-swipe-action/uni-swipe-action")]).then(n.bind(null,"e604"))},r=function(){return n.e("components/common/no-thing").then(n.bind(null,"0cba"))},c={components:{uniListItem:u,uniSwipeAction:s,noThing:r},data:function(){return{loadtext:"上拉加载更多",isChoose:!1,options:[{text:"修改",style:{backgroundColor:"#007aff"}},{text:"删除",style:{backgroundColor:"#dd524d"}}],page:1}},computed:i({},(0,o.mapState)({list:function(t){return t.path.list}})),onNavigationBarButtonTap:function(e){0===e.index&&t.navigateTo({url:"../user-path-edit/user-path-edit"})},onLoad:function(e){var n=this;"choose"===e.type&&(this.isChoose=!0),this.getData(),t.$on("updateUserPathList",function(){n.page=1,n.getData()})},onUnload:function(){t.$off("updateUserPathList")},onPullDownRefresh:function(){this.page=1,this.getData(function(){t.stopPullDownRefresh()})},onReachBottom:function(){"上拉加载更多"===this.loadtext&&(this.loadtext="加载中...",this.page++,this.getData())},methods:i({},(0,o.mapMutations)(["delPath","updatePathList"]),{getData:function(){var e=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$H.get("/useraddresses/"+this.page,{},{token:!0}).then(function(o){var i=1===e.page;e.updatePathList({refresh:i,list:o}),e.loadtext=o.length<10?"没有更多了":"上拉加载更多","function"===typeof n&&(t.showToast({title:"刷新成功",icon:"none"}),n())}).catch(function(t){"function"===typeof n&&n(),e.page>1&&(e.page--,e.loadtext="上拉加载更多")})},bindClick:function(e,n){var o=this;switch(e.index){case 0:var i={index:n,item:this.list[n]};i.item.default=0===n&&null!==i.item.last_used_time?1:0,setTimeout(function(){t.navigateTo({url:"../user-path-edit/user-path-edit?data="+JSON.stringify(i)})},50);break;case 1:t.showModal({content:"要删除该收货地址吗？",success:function(e){e.confirm&&o.$H.del("/useraddresses/"+o.list[n].id,{},{token:!0}).then(function(e){o.delPath(n),t.showToast({title:"删除成功"})})}});break}},choose:function(e){this.isChoose&&(t.$emit("choosePath",e),t.navigateBack({delta:1}))}})};e.default=c}).call(this,n("6e42")["default"])},8370:function(t,e,n){"use strict";n.r(e);var o=n("1620"),i=n("51a2");for(var a in i)"default"!==a&&function(t){n.d(e,t,function(){return i[t]})}(a);var u,s=n("f0c5"),r=Object(s["a"])(i["default"],o["b"],o["c"],!1,null,null,null,!1,o["a"],u);e["default"]=r.exports},"89a9":function(t,e,n){"use strict";(function(t){n("b6b5"),n("921b");o(n("66fd"));var e=o(n("8370"));function o(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n("6e42")["createPage"])}},[["89a9","common/runtime","common/vendor"]]]);